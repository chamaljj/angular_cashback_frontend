<div class="column">
<div class="container">
    <h3 style="text-align: start;">Add Transaction Type</h3>
    <br>
    <div style="background-color: white;">
        <div class="row" style="border-radius: 4rem;">
        <div class="col-md-3"></div>
        <div class="col-md-12" style="border-radius: 4rem;" >
            <div class=" m-6 ">
                <div class="card-body" >
                    <form  name ="customerForm"  #f="ngForm" (ngSubmit)="f.form.valid && submit()" novalidate >
                        <div class="form-row mb-3" >
                            <div class="col-md-6">
                                <label for="tranTypeId">Transaction Id<span style="color: red;">*</span> : </label>
                                <input type="number" [(ngModel)]="tranTypeId" class="form-control" id="tranTypeId" required
                            name="tTypeId"
                            #tTypeId="ngModel"
                            [ngClass]="{'is-invalid':f.submitted && tTypeId.invalid  }" >
                            <div class="invalid-feedback">
                                <div>TranType Id is required</div>
                            </div>
                            </div>
                            <div class="col-md-6">
                                <label for="tranType">Transaction Type<span style="color: red;">*</span> : </label>
                                <input type="text" [(ngModel)]="typeName"  class="form-control" id="tranType" required
                                name="tType"
                                #tType="ngModel"
                                [ngClass]="{'is-invalid':f.submitted && tType.invalid  }" >
                                <div class="invalid-feedback">
                                    <div>TranType is required</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row" >
                            <div class="col-md-12" >
                                    <label for="status">Active Status<span style="color: red;">*</span> : </label>
                                    <select type="select" [(ngModel)]="status" class="form-control" id="status" required
                                name="status"
                                #actStatus="ngModel"
                                [ngClass]="{'is-invalid':f.submitted && actStatus.invalid  }" >
                                    <option value="" disabled selected>Select an option</option>
                                    <option value="Y">Yes</option>
                                    <option value="N">No</option>
                                </select>
                                <div class="invalid-feedback">
                                    <div>Status is required</div>
                                </div>
                            </div>
                        </div>
                        <br>
                        <div class="button-container">
                          <button type="submit" class="but-submit">Save</button>
                          <button type="reset" class="but-reset" mat-stroked-button>Reset</button>
                        </div>

                    </form>
                </div>
            </div>
         </div>
      <div class="col-md-4"></div>
    </div>
   </div>
   </div>
  </div>

  <div class="column">
   <div class="container text-center" >
    <tr>
      <td><h3>All Transaction Type Details</h3></td>
      <td>
        <div class="search-hero" > <input class="form-control" type="text" name="search"
          [(ngModel)]="searchText" autocomplete="off" placeholder="&#61442; Search Id / Type Name "></div>
      </td>
    </tr>
    <br>
    <div *ngIf="isResultLoaded" class="spinner">
      <img src="assets/loadingGIF.gif" alt="Loading...">

    </div>
    <div *ngIf="!isResultLoaded">

  <table class="table table-striped text-center">
      <thead>
      <tr>
        <th style="border: 2px solid gainsboro; padding-inline: 1rem;" scope="col">Tran Type Id</th>
        <th style="border: 2px solid gainsboro; padding-inline: 1rem;" scope="col">Transaction Type</th>
        <th style="border: 2px solid gainsboro; padding-inline: 1rem;" scope="col">Active Status</th>
        <th style="border: 2px solid gainsboro; padding-inline: 1rem;" scope="col" *ngIf="userService.roleMatch(['Super Admin']) || userService.roleMatch(['Admin'])">Update</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let TranType of TranTypeArray | filter:searchText">
          <th style="border: 1px solid gainsboro;" class="text-" scope="row">{{TranType.tranTypeId}}</th>
          <td style="border: 1px solid gainsboro;">{{TranType.typeName}}</td>
          <td style="border: 1px solid gainsboro;">{{TranType.status}}</td>
          <td *ngIf="userService.roleMatch(['Super Admin']) || userService.roleMatch(['Admin'])">
            <button mat-mini-fab color="dark" type="button" class="nav-link active" (click)="setUpdate(TranType)" class="btn-dark" >
                <mat-icon>edit</mat-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
  </div>

  </div>
  <div class="overlay" *ngIf="show" (click)="closeoverlay($event)">
    <div class="content-1" style="margin-inline: 25rem;">
       <div  style="background-color: white; padding-block-start: 1rem;padding-block-end: 1rem;margin-block-start: 0.5rem;
            margin-block-end: 2rem;padding-inline: 2rem;border-radius:2rem;" >
        <div class="row" >
            <div class="close()" (click)="closepopup()" style="color: red;">
                &times;
            </div>
            <div class="col-md-12">
                <h2>Update Transaction Type Details</h2>
                <br>
                    <form  name ="customerForm"  #f="ngForm" (ngSubmit)="f.form.valid && submit()" novalidate >
                        <div class="form-row" >

                            <div class="col-md-6">
                                <label for="tranTypeId">Transaction Id<span style="color: red;">*</span> : </label>
                                <input type="number" [(ngModel)]="tranTypeId" class="form-control" id="trTypeId" required
                            name="trTypeId"
                            #tTypeId="ngModel"
                            [ngClass]="{'is-invalid':f.submitted && tTypeId.invalid  }" >
                            <div class="invalid-feedback">
                                <div>TranType Id is required</div>
                            </div>
                            </div>
                            <div class="col-md-6">
                                <label for="tranType">Transaction Type<span style="color: red;">*</span> : </label>
                                <input type="text" [(ngModel)]="typeName"  class="form-control" id="trSType" required
                                name="trType"
                                #tType="ngModel"
                                [ngClass]="{'is-invalid':f.submitted && tType.invalid  }" >
                                <div class="invalid-feedback">
                                    <div>TranType is required</div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <label for="status">Active Status<span style="color: red;">*</span> : </label>
                                <select type="text" [(ngModel)]="status" class="form-control" id="acStatus" required
                            name="trStatus"
                            #actStatus="ngModel"
                            [ngClass]="{'is-invalid':f.submitted && actStatus.invalid  }" >
                                <option value="" disabled selected>Select an option</option>
                                <option value="Y">Yes</option>
                                <option value="N">No</option>
                            </select>
                                <div class="invalid-feedback">
                                    <div>Active Status is required</div>
                                </div>
                            </div>
                        </div>
                     <br>
                        <div class="button-container" >
                          <button type="submit" class="but-submit">Save</button>
                          <button type="reset" class="but-reset" mat-stroked-button>Reset</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-4"></div>
    </div>
  </div>
